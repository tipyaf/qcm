<div class="admin-page">
    {{vm.questions}}
    <!--{{vm.newQuestion}}-->
    <div class="row add-question">
        <div class="addQuestion-question">
        
        </div>
        <p class="add-question-title grey-text lighten-1">Ajouter une nouvelle question</p>
        <form class="col s12" name="addQuestion">
            <div class="row">
                <div class="question input-field col s12 valign-wrapper">
                    <input id="question" type="text" class="validate" ng-model="vm.newQuestion.title" ng-required="true" ng-minlength="4">
                    <label for="question">La question...</label>
                </div>
            </div>
            <div class="row">
                <div class="choice col s12 " ng-repeat="choice in vm.addChoiceModel track by $index" ng-class="{'teal-text lighten-1': vm.newQuestion.choices[$index].value}">
                    {{choice.media.data}}
                    
                    <div class="input-field col s7"
                         ng-class="{'teal-text lighten-1': vm.newQuestion.choices[$index].value}">
                        <input id="choix1" type="text" class="validate" ng-model="vm.newQuestion.choices[$index].choice" name="{{choice.name}}" ng-required="true" ng-minlength="1">
                        <label for="choix1" ng-class="{'teal-text lighten-1': vm.newQuestion.choices[$index].value}">Choix {{choice.id}}</label>
                    </div>
                    <div class="input-field col s3">
                        <input name="{{choice.name}}" type="checkbox" id="{{choice.name}}" ng-model="vm.newQuestion.choices[$index].value"/>
                        <label for="{{choice.name}}" ng-class="{'teal-text lighten-1': vm.newQuestion.choices[$index].value}">Bonne réponse</label>
                    </div>
                    <div class="icon-add-file col s2 margin-lie grey-text-label" ng-init="false" ng-click="vm.drop[$index] = !vm.drop[$index]">
                        <i class="material-icons pointer col s6">note_add</i>
                        <label class="small col s6">Ajouter fichier</label>
                    </div>
                    
                    
                    <div ngf-drop="upload($file)" class="drop-box col s12 anim" ng-show="vm.drop[$index]" ngf-drag-over-class="'dragover'" ngf-pattern="'image/*,application/pdf,audio/*,video/*'" ngf-resize="{width: 100, height:100}" ng-model="vm.file[$index]" ng-class="{'teal-border': vm.newQuestion.choices[$index].value}">
                        <label>Glissez/Déposez le fichier ou cliquez ci-dessous pour selectionner un fichier de votre ordinateur</label>
                        <i class="material-icons pointer grey-text" ngf-select="upload($file)"  ngf-pattern="'image/*,application/pdf,audio/*,video/*'" ngf-resize="{width: 100, height:100}" ng-model="vm.file[$index]" ng-if="vm.file[$index] == indifined">note_add</i>
                        <div ngf-no-file-drop ng-model="vm.file">Glisser/Déposer ne fonctionne pas avec votre navigateur
                        </div>
                        {{vm.file[$index].name}}
                        <img ngf-thumbnail="vm.file[$index]">
                        <audio controls ngf-src="vm.file[$index]"></audio>
                        <video controls ngf-src="vm.file[$index]" class="video-preview"></video>
                    </div>
                
                
                </div>
            </div>
            <div class="btn-create-question center">
                <a class="waves-effect waves-light btn red lighten-1 right" ng-click="vm.addQuestion()"><i
                        class="material-icons right">playlist_add</i>Ajouter</a>
            </div>
        </form>
    </div>
</div>